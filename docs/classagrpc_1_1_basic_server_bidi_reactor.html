<!-- HTML header for doxygen 1.12.0-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>asio-grpc: agrpc::BasicServerBidiReactor&lt; Request, Response, Executor &gt; Class Template Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only-darkmode-toggle.css" rel="stylesheet" type="text/css"/>
<link href="custom.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="doxygen-awesome-darkmode-toggle.js"></script>
<script type="text/javascript">
    DoxygenAwesomeDarkModeToggle.init()
</script>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">asio-grpc<span id="projectnumber">&#160;v3.5.0</span>
   </div>
   <div id="projectbrief">Asynchronous gRPC with Asio/unified executors</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('classagrpc_1_1_basic_server_bidi_reactor.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classagrpc_1_1_basic_server_bidi_reactor-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">agrpc::BasicServerBidiReactor&lt; Request, Response, Executor &gt; Class Template Reference</div></div>
</div><!--header-->
<div class="contents">

<p>(experimental) I/O object for server-side, bidi-streaming rpcs  
 <a href="#details">More...</a></p>

<p><code>#include &lt;agrpc/server_callback.hpp&gt;</code></p>
<div id="dynsection-0" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Inheritance diagram for agrpc::BasicServerBidiReactor&lt; Request, Response, Executor &gt;:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classagrpc_1_1_basic_server_bidi_reactor__inherit__graph.png" border="0" usemap="#aagrpc_1_1_basic_server_bidi_reactor_3_01_request_00_01_response_00_01_executor_01_4_inherit__map" alt="Inheritance graph"/></div>
<map name="aagrpc_1_1_basic_server_bidi_reactor_3_01_request_00_01_response_00_01_executor_01_4_inherit__map" id="aagrpc_1_1_basic_server_bidi_reactor_3_01_request_00_01_response_00_01_executor_01_4_inherit__map">
<area shape="rect" title="(experimental) I/O object for server&#45;side, bidi&#45;streaming rpcs" alt="" coords="5,93,245,133"/>
<area shape="rect" href="classagrpc_1_1detail_1_1_reactor_executor_base.html" title="Reactor&#39;s executor base." alt="" coords="17,5,234,45"/>
<area shape="poly" title=" " alt="" coords="128,59,128,93,123,93,123,59"/>
</map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<div id="dynsection-1" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="closed.png" alt="+"/> Collaboration diagram for agrpc::BasicServerBidiReactor&lt; Request, Response, Executor &gt;:</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classagrpc_1_1_basic_server_bidi_reactor__coll__graph.png" border="0" usemap="#aagrpc_1_1_basic_server_bidi_reactor_3_01_request_00_01_response_00_01_executor_01_4_coll__map" alt="Collaboration graph"/></div>
<map name="aagrpc_1_1_basic_server_bidi_reactor_3_01_request_00_01_response_00_01_executor_01_4_coll__map" id="aagrpc_1_1_basic_server_bidi_reactor_3_01_request_00_01_response_00_01_executor_01_4_coll__map">
<area shape="rect" title="(experimental) I/O object for server&#45;side, bidi&#45;streaming rpcs" alt="" coords="5,93,245,133"/>
<area shape="rect" href="classagrpc_1_1detail_1_1_reactor_executor_base.html" title="Reactor&#39;s executor base." alt="" coords="17,5,234,45"/>
<area shape="poly" title=" " alt="" coords="128,59,128,93,123,93,123,59"/>
</map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structagrpc_1_1_basic_server_bidi_reactor_1_1rebind__executor.html">rebind_executor</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Rebind the <a class="el" href="classagrpc_1_1_basic_server_bidi_reactor.html" title="(experimental) I/O object for server-side, bidi-streaming rpcs">BasicServerBidiReactor</a> to another executor.  <a href="structagrpc_1_1_basic_server_bidi_reactor_1_1rebind__executor.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-types" name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:ac75fc4f9baf950aaf3e2281fc83846d0" id="r_ac75fc4f9baf950aaf3e2281fc83846d0"><td class="memItemLeft" align="right" valign="top"><a id="ac75fc4f9baf950aaf3e2281fc83846d0" name="ac75fc4f9baf950aaf3e2281fc83846d0"></a>
using&#160;</td><td class="memItemRight" valign="bottom"><b>executor_type</b> = Executor</td></tr>
<tr class="memdesc:ac75fc4f9baf950aaf3e2281fc83846d0"><td class="mdescLeft">&#160;</td><td class="mdescRight">The executor type. <br /></td></tr>
<tr class="separator:ac75fc4f9baf950aaf3e2281fc83846d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ace11424e599133f766c1de9aaf8c0283" id="r_ace11424e599133f766c1de9aaf8c0283"><td class="memItemLeft" align="right" valign="top">grpc::ServerBidiReactor&lt; Request, Response &gt; *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ace11424e599133f766c1de9aaf8c0283">get</a> () noexcept</td></tr>
<tr class="memdesc:ace11424e599133f766c1de9aaf8c0283"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get underlying gRPC reactor.  <br /></td></tr>
<tr class="separator:ace11424e599133f766c1de9aaf8c0283"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1be28febd2688e377a32b7a2f042a9e8" id="r_a1be28febd2688e377a32b7a2f042a9e8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1be28febd2688e377a32b7a2f042a9e8">initiate_send_initial_metadata</a> ()</td></tr>
<tr class="memdesc:a1be28febd2688e377a32b7a2f042a9e8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send initial metadata.  <br /></td></tr>
<tr class="separator:a1be28febd2688e377a32b7a2f042a9e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab3aec38b74be837d8e310891db8b8eda" id="r_ab3aec38b74be837d8e310891db8b8eda"><td class="memTemplParams" colspan="2">template&lt;class CompletionToken  = detail::DefaultCompletionTokenT&lt;Executor&gt;&gt; </td></tr>
<tr class="memitem:ab3aec38b74be837d8e310891db8b8eda"><td class="memTemplItemLeft" align="right" valign="top">auto&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="#ab3aec38b74be837d8e310891db8b8eda">wait_for_send_initial_metadata</a> (CompletionToken &amp;&amp;token=CompletionToken{})</td></tr>
<tr class="memdesc:ab3aec38b74be837d8e310891db8b8eda"><td class="mdescLeft">&#160;</td><td class="mdescRight">Wait for send initial metadata.  <br /></td></tr>
<tr class="separator:ab3aec38b74be837d8e310891db8b8eda"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae71ae40133e53b98b64d5cbdbf76c4bd" id="r_ae71ae40133e53b98b64d5cbdbf76c4bd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae71ae40133e53b98b64d5cbdbf76c4bd">initiate_read</a> (Request &amp;request)</td></tr>
<tr class="memdesc:ae71ae40133e53b98b64d5cbdbf76c4bd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read message.  <br /></td></tr>
<tr class="separator:ae71ae40133e53b98b64d5cbdbf76c4bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adfe32fdfddf2992704e763143011e7e2" id="r_adfe32fdfddf2992704e763143011e7e2"><td class="memTemplParams" colspan="2">template&lt;class CompletionToken  = detail::DefaultCompletionTokenT&lt;Executor&gt;&gt; </td></tr>
<tr class="memitem:adfe32fdfddf2992704e763143011e7e2"><td class="memTemplItemLeft" align="right" valign="top">auto&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="#adfe32fdfddf2992704e763143011e7e2">wait_for_read</a> (CompletionToken &amp;&amp;token=CompletionToken{})</td></tr>
<tr class="memdesc:adfe32fdfddf2992704e763143011e7e2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Wait for read.  <br /></td></tr>
<tr class="separator:adfe32fdfddf2992704e763143011e7e2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ee9c07ae82ede6a2a9978a1d0095ea6" id="r_a7ee9c07ae82ede6a2a9978a1d0095ea6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7ee9c07ae82ede6a2a9978a1d0095ea6">initiate_write</a> (const Response &amp;response, grpc::WriteOptions options={})</td></tr>
<tr class="memdesc:a7ee9c07ae82ede6a2a9978a1d0095ea6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write message.  <br /></td></tr>
<tr class="separator:a7ee9c07ae82ede6a2a9978a1d0095ea6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa35db4ff1c36af6f5c4ee3820caa1385" id="r_aa35db4ff1c36af6f5c4ee3820caa1385"><td class="memTemplParams" colspan="2">template&lt;class CompletionToken  = detail::DefaultCompletionTokenT&lt;Executor&gt;&gt; </td></tr>
<tr class="memitem:aa35db4ff1c36af6f5c4ee3820caa1385"><td class="memTemplItemLeft" align="right" valign="top">auto&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="#aa35db4ff1c36af6f5c4ee3820caa1385">wait_for_write</a> (CompletionToken &amp;&amp;token=CompletionToken{})</td></tr>
<tr class="memdesc:aa35db4ff1c36af6f5c4ee3820caa1385"><td class="mdescLeft">&#160;</td><td class="mdescRight">Wait for read.  <br /></td></tr>
<tr class="separator:aa35db4ff1c36af6f5c4ee3820caa1385"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad9a7029b0abf29083fc7e5ca2f633cc4" id="r_ad9a7029b0abf29083fc7e5ca2f633cc4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad9a7029b0abf29083fc7e5ca2f633cc4">initiate_write_and_finish</a> (const Response &amp;response, grpc::Status status, grpc::WriteOptions options={})</td></tr>
<tr class="memdesc:ad9a7029b0abf29083fc7e5ca2f633cc4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write message and finish rpc.  <br /></td></tr>
<tr class="separator:ad9a7029b0abf29083fc7e5ca2f633cc4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a50a53f70a8a9a260a80554522f51b7c1" id="r_a50a53f70a8a9a260a80554522f51b7c1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a50a53f70a8a9a260a80554522f51b7c1">initiate_finish</a> (grpc::Status status)</td></tr>
<tr class="memdesc:a50a53f70a8a9a260a80554522f51b7c1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Finish rpc.  <br /></td></tr>
<tr class="separator:a50a53f70a8a9a260a80554522f51b7c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adf30043129db849e64b91b93e7ea5ef8" id="r_adf30043129db849e64b91b93e7ea5ef8"><td class="memTemplParams" colspan="2">template&lt;class CompletionToken  = detail::DefaultCompletionTokenT&lt;Executor&gt;&gt; </td></tr>
<tr class="memitem:adf30043129db849e64b91b93e7ea5ef8"><td class="memTemplItemLeft" align="right" valign="top">auto&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="#adf30043129db849e64b91b93e7ea5ef8">wait_for_finish</a> (CompletionToken &amp;&amp;token=CompletionToken{})</td></tr>
<tr class="memdesc:adf30043129db849e64b91b93e7ea5ef8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Wait for finish.  <br /></td></tr>
<tr class="separator:adf30043129db849e64b91b93e7ea5ef8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac5c445971590ac7faa30a097acdca064" id="r_ac5c445971590ac7faa30a097acdca064"><td class="memItemLeft" align="right" valign="top">const Executor &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classagrpc_1_1detail_1_1_reactor_executor_base.html#ac5c445971590ac7faa30a097acdca064">get_executor</a> () const noexcept</td></tr>
<tr class="memdesc:ac5c445971590ac7faa30a097acdca064"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the executor.  <br /></td></tr>
<tr class="separator:ac5c445971590ac7faa30a097acdca064"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><div class="compoundTemplParams">template&lt;class Request, class Response, class Executor&gt;<br />
class agrpc::BasicServerBidiReactor&lt; Request, Response, Executor &gt;</div><p>(experimental) I/O object for server-side, bidi-streaming rpcs </p>
<p>Create an object of this type using <code><a class="el" href="namespaceagrpc.html#a59ca62564b50007b111375aa090e752b" title="Create ReactorPtr.">agrpc::make_reactor</a></code>/<code><a class="el" href="namespaceagrpc.html#a0704072818e6d125ef22b0ae1bbe324e" title="Create ReactorPtr using allocator.">agrpc::allocate_reactor</a></code> or <code>server_callback_coroutine.hpp</code>.</p>
<p>Example:</p>
<div class="fragment"><div class="line">    grpc::ServerBidiReactor&lt;example::v1::Request, example::v1::Response&gt;* BidirectionalStreaming(</div>
<div class="line">        grpc::CallbackServerContext*)<span class="keyword"> override</span></div>
<div class="line"><span class="keyword">    </span>{</div>
<div class="line">        <span class="keyword">struct </span>Reactor : agrpc::ServerBidiReactorBase&lt;example::v1::Request, example::v1::Response&gt;</div>
<div class="line">        {</div>
<div class="line">            example::v1::Request request_;</div>
<div class="line">            example::v1::Response response_;</div>
<div class="line">        };</div>
<div class="line">        <span class="keyword">auto</span> ptr = <a class="code hl_function" href="namespaceagrpc.html#a59ca62564b50007b111375aa090e752b">agrpc::make_reactor&lt;Reactor&gt;</a>(get_executor());</div>
<div class="line">        <span class="keyword">auto</span>&amp; rpc = *ptr;</div>
<div class="line">        rpc.initiate_read(rpc.request_);</div>
<div class="line">        rpc.wait_for_read(</div>
<div class="line">            [ptr = std::move(ptr)](<span class="keyword">const</span> error_code&amp;, <span class="keywordtype">bool</span> ok) <span class="keyword">mutable</span></div>
<div class="line">            {</div>
<div class="line">                <span class="keywordflow">if</span> (!ok)</div>
<div class="line">                {</div>
<div class="line">                    <span class="keywordflow">return</span>;</div>
<div class="line">                }</div>
<div class="line">                <span class="keyword">auto</span>&amp; rpc = *ptr;</div>
<div class="line">                rpc.response_.set_integer(rpc.request_.integer());</div>
<div class="line">                rpc.initiate_write(rpc.response_);</div>
<div class="line">                rpc.wait_for_write(</div>
<div class="line">                    [ptr = std::move(ptr)](<span class="keyword">const</span> error_code&amp;, <span class="keywordtype">bool</span> ok)</div>
<div class="line">                    {</div>
<div class="line">                        <span class="keywordflow">if</span> (!ok)</div>
<div class="line">                        {</div>
<div class="line">                            <span class="keywordflow">return</span>;</div>
<div class="line">                        }</div>
<div class="line">                        ptr-&gt;initiate_finish(grpc::Status::OK);</div>
<div class="line">                    });</div>
<div class="line">            });</div>
<div class="line">        <span class="keywordflow">return</span> rpc.get();</div>
<div class="line">    }</div>
</div><!-- fragment --><p>Based on <code>.proto</code> file:</p>
<div class="fragment"><div class="line">syntax = &quot;proto3&quot;;</div>
<div class="line"> </div>
<div class="line">package example.v1;</div>
<div class="line"> </div>
<div class="line">service Example {</div>
<div class="line">  rpc ServerStreaming(Request) returns (stream Response) {}</div>
<div class="line"> </div>
<div class="line">  rpc ClientStreaming(stream Request) returns (Response) {}</div>
<div class="line"> </div>
<div class="line">  rpc BidirectionalStreaming(stream Request) returns (stream Response) {}</div>
<div class="line"> </div>
<div class="line">  rpc Unary(Request) returns (Response) {}</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">message Request {</div>
<div class="line">  int32 integer = 1;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">message Response {</div>
<div class="line">  int32 integer = 1;</div>
<div class="line">}</div>
</div><!-- fragment --><dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">Executor</td><td>The executor type.</td></tr>
  </table>
  </dd>
</dl>
<p><b>Per-Operation Cancellation</b></p>
<p>All. Cancellation will merely interrupt the act of waiting and does not cancel the underlying rpc.</p>
<dl class="section since"><dt>Since</dt><dd>3.5.0 </dd></dl>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="ace11424e599133f766c1de9aaf8c0283" name="ace11424e599133f766c1de9aaf8c0283"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ace11424e599133f766c1de9aaf8c0283">&#9670;&#160;</a></span>get()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Request , class Response , class Executor &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">grpc::ServerBidiReactor&lt; Request, Response &gt; * <a class="el" href="classagrpc_1_1_basic_server_bidi_reactor.html">agrpc::BasicServerBidiReactor</a>&lt; Request, Response, Executor &gt;::get </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">nodiscard</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get underlying gRPC reactor. </p>
<p>The returned object should be passed to the gRPC library. Invoking any of its functions may result in undefined behavior. </p>

</div>
</div>
<a id="a1be28febd2688e377a32b7a2f042a9e8" name="a1be28febd2688e377a32b7a2f042a9e8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1be28febd2688e377a32b7a2f042a9e8">&#9670;&#160;</a></span>initiate_send_initial_metadata()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Request , class Response , class Executor &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classagrpc_1_1_basic_server_bidi_reactor.html">agrpc::BasicServerBidiReactor</a>&lt; Request, Response, Executor &gt;::initiate_send_initial_metadata </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Send initial metadata. </p>
<p>Send any initial metadata stored in the CallbackServerContext. If not invoked, any initial metadata will be passed along with <code>initiate_finish</code>. </p>

</div>
</div>
<a id="ab3aec38b74be837d8e310891db8b8eda" name="ab3aec38b74be837d8e310891db8b8eda"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab3aec38b74be837d8e310891db8b8eda">&#9670;&#160;</a></span>wait_for_send_initial_metadata()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Request , class Response , class Executor &gt; </div>
<div class="memtemplate">
template&lt;class CompletionToken  = detail::DefaultCompletionTokenT&lt;Executor&gt;&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auto <a class="el" href="classagrpc_1_1_basic_server_bidi_reactor.html">agrpc::BasicServerBidiReactor</a>&lt; Request, Response, Executor &gt;::wait_for_send_initial_metadata </td>
          <td>(</td>
          <td class="paramtype">CompletionToken &amp;&amp;</td>          <td class="paramname"><span class="paramname"><em>token</em></span><span class="paramdefsep"> = </span><span class="paramdefval">CompletionToken{}</span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Wait for send initial metadata. </p>
<p>Waits for the completion of <code>initiate_send_initial_metadata</code>. Only one wait for send initial metadata may be outstanding at any time.</p>
<p>Completion signature is <code>void(error_code, bool)</code>. If the bool is <code>false</code> then the rpc failed (cancelled, disconnected, deadline reached, ...). </p>

</div>
</div>
<a id="ae71ae40133e53b98b64d5cbdbf76c4bd" name="ae71ae40133e53b98b64d5cbdbf76c4bd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae71ae40133e53b98b64d5cbdbf76c4bd">&#9670;&#160;</a></span>initiate_read()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Request , class Response , class Executor &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classagrpc_1_1_basic_server_bidi_reactor.html">agrpc::BasicServerBidiReactor</a>&lt; Request, Response, Executor &gt;::initiate_read </td>
          <td>(</td>
          <td class="paramtype">Request &amp;</td>          <td class="paramname"><span class="paramname"><em>request</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Read message. </p>
<p>Initiate the read of a message from the client. The argument must remain valid until the read completes (<code>wait_for_read()</code>). </p>

</div>
</div>
<a id="adfe32fdfddf2992704e763143011e7e2" name="adfe32fdfddf2992704e763143011e7e2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adfe32fdfddf2992704e763143011e7e2">&#9670;&#160;</a></span>wait_for_read()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Request , class Response , class Executor &gt; </div>
<div class="memtemplate">
template&lt;class CompletionToken  = detail::DefaultCompletionTokenT&lt;Executor&gt;&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auto <a class="el" href="classagrpc_1_1_basic_server_bidi_reactor.html">agrpc::BasicServerBidiReactor</a>&lt; Request, Response, Executor &gt;::wait_for_read </td>
          <td>(</td>
          <td class="paramtype">CompletionToken &amp;&amp;</td>          <td class="paramname"><span class="paramname"><em>token</em></span><span class="paramdefsep"> = </span><span class="paramdefval">CompletionToken{}</span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Wait for read. </p>
<p>Waits for the completion of a read. Only one wait for read may be outstanding at any time.</p>
<p>Completion signature is <code>void(error_code, bool)</code>. If the bool is <code>false</code> then the rpc failed (cancelled, disconnected, deadline reached, ...). </p>

</div>
</div>
<a id="a7ee9c07ae82ede6a2a9978a1d0095ea6" name="a7ee9c07ae82ede6a2a9978a1d0095ea6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7ee9c07ae82ede6a2a9978a1d0095ea6">&#9670;&#160;</a></span>initiate_write()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Request , class Response , class Executor &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classagrpc_1_1_basic_server_bidi_reactor.html">agrpc::BasicServerBidiReactor</a>&lt; Request, Response, Executor &gt;::initiate_write </td>
          <td>(</td>
          <td class="paramtype">const Response &amp;</td>          <td class="paramname"><span class="paramname"><em>response</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">grpc::WriteOptions</td>          <td class="paramname"><span class="paramname"><em>options</em></span><span class="paramdefsep"> = </span><span class="paramdefval">{}</span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Write message. </p>
<p>Initiate the read of a message from the client. The argument must remain valid until the read completes (<code><a class="el" href="#aa35db4ff1c36af6f5c4ee3820caa1385" title="Wait for read.">wait_for_write()</a></code>). </p>

</div>
</div>
<a id="aa35db4ff1c36af6f5c4ee3820caa1385" name="aa35db4ff1c36af6f5c4ee3820caa1385"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa35db4ff1c36af6f5c4ee3820caa1385">&#9670;&#160;</a></span>wait_for_write()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Request , class Response , class Executor &gt; </div>
<div class="memtemplate">
template&lt;class CompletionToken  = detail::DefaultCompletionTokenT&lt;Executor&gt;&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auto <a class="el" href="classagrpc_1_1_basic_server_bidi_reactor.html">agrpc::BasicServerBidiReactor</a>&lt; Request, Response, Executor &gt;::wait_for_write </td>
          <td>(</td>
          <td class="paramtype">CompletionToken &amp;&amp;</td>          <td class="paramname"><span class="paramname"><em>token</em></span><span class="paramdefsep"> = </span><span class="paramdefval">CompletionToken{}</span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Wait for read. </p>
<p>Waits for the completion of a write. Only one wait for read may be outstanding at any time.</p>
<p>Completion signature is <code>void(error_code, bool)</code>. If the bool is <code>false</code> then the rpc failed (cancelled, disconnected, deadline reached, ...). </p>

</div>
</div>
<a id="ad9a7029b0abf29083fc7e5ca2f633cc4" name="ad9a7029b0abf29083fc7e5ca2f633cc4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad9a7029b0abf29083fc7e5ca2f633cc4">&#9670;&#160;</a></span>initiate_write_and_finish()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Request , class Response , class Executor &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classagrpc_1_1_basic_server_bidi_reactor.html">agrpc::BasicServerBidiReactor</a>&lt; Request, Response, Executor &gt;::initiate_write_and_finish </td>
          <td>(</td>
          <td class="paramtype">const Response &amp;</td>          <td class="paramname"><span class="paramname"><em>response</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">grpc::Status</td>          <td class="paramname"><span class="paramname"><em>status</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">grpc::WriteOptions</td>          <td class="paramname"><span class="paramname"><em>options</em></span><span class="paramdefsep"> = </span><span class="paramdefval">{}</span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Write message and finish rpc. </p>
<p>Initiate a write operation with specified options and final rpc status, which also causes any trailing metadata for this rpc to be sent out. The argument must remain valid until the rpc completes (<code>wait_for_finish()</code>). Either <code><a class="el" href="#ad9a7029b0abf29083fc7e5ca2f633cc4" title="Write message and finish rpc.">initiate_write_and_finish()</a></code> or <code><a class="el" href="#a50a53f70a8a9a260a80554522f51b7c1" title="Finish rpc.">initiate_finish()</a></code> may be called but not both. </p>

</div>
</div>
<a id="a50a53f70a8a9a260a80554522f51b7c1" name="a50a53f70a8a9a260a80554522f51b7c1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a50a53f70a8a9a260a80554522f51b7c1">&#9670;&#160;</a></span>initiate_finish()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Request , class Response , class Executor &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classagrpc_1_1_basic_server_bidi_reactor.html">agrpc::BasicServerBidiReactor</a>&lt; Request, Response, Executor &gt;::initiate_finish </td>
          <td>(</td>
          <td class="paramtype">grpc::Status</td>          <td class="paramname"><span class="paramname"><em>status</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Finish rpc. </p>
<p>Indicate that the stream is to be finished and the trailing metadata and rpc status are to be sent. May only be called once. If the status is non-OK, any message will not be sent. Instead, the client will only receive the status and any trailing metadata. Either <code><a class="el" href="#ad9a7029b0abf29083fc7e5ca2f633cc4" title="Write message and finish rpc.">initiate_write_and_finish()</a></code> or <code><a class="el" href="#a50a53f70a8a9a260a80554522f51b7c1" title="Finish rpc.">initiate_finish()</a></code> may be called but not both. </p>

</div>
</div>
<a id="adf30043129db849e64b91b93e7ea5ef8" name="adf30043129db849e64b91b93e7ea5ef8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adf30043129db849e64b91b93e7ea5ef8">&#9670;&#160;</a></span>wait_for_finish()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Request , class Response , class Executor &gt; </div>
<div class="memtemplate">
template&lt;class CompletionToken  = detail::DefaultCompletionTokenT&lt;Executor&gt;&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auto <a class="el" href="classagrpc_1_1_basic_server_bidi_reactor.html">agrpc::BasicServerBidiReactor</a>&lt; Request, Response, Executor &gt;::wait_for_finish </td>
          <td>(</td>
          <td class="paramtype">CompletionToken &amp;&amp;</td>          <td class="paramname"><span class="paramname"><em>token</em></span><span class="paramdefsep"> = </span><span class="paramdefval">CompletionToken{}</span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Wait for finish. </p>
<p>Wait until all operations associated with this rpc have completed. Only one wait for finish may be outstanding at any time.</p>
<p>Completion signature is <code>void(error_code, bool)</code>. If the bool is <code>false</code> then the rpc failed (cancelled, disconnected, deadline reached, ...). </p>

</div>
</div>
<a id="ac5c445971590ac7faa30a097acdca064" name="ac5c445971590ac7faa30a097acdca064"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac5c445971590ac7faa30a097acdca064">&#9670;&#160;</a></span>get_executor()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Executor &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const Executor &amp; <a class="el" href="classagrpc_1_1detail_1_1_reactor_executor_base.html">agrpc::detail::ReactorExecutorBase</a>&lt; Executor &gt;::get_executor </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">nodiscard</span><span class="mlabel">noexcept</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the executor. </p>
<p>Thread-safe </p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespaceagrpc.html">agrpc</a></li><li class="navelem"><a class="el" href="classagrpc_1_1_basic_server_bidi_reactor.html">BasicServerBidiReactor</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0 </li>
  </ul>
</div>
</body>
</html>
